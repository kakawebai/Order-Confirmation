<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Confirmation-1.0</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20100%20100%27%3E%3Crect%20width%3D%27100%27%20height%3D%27100%27%20rx%3D%2718%27%20fill%3D%27%234a90e2%27/%3E%3Ctext%20x%3D%2750%27%20y%3D%2768%27%20font-size%3D%2760%27%20text-anchor%3D%27middle%27%20fill%3D%27white%27%20font-family%3D%27Segoe%20UI%2C%20Arial%2C%20sans-serif%27%3E%E8%AE%A2%3C/text%3E%3C/svg%3E" />
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%20100%20100%27%3E%3Crect%20width%3D%27100%27%20height%3D%27100%27%20rx%3D%2718%27%20fill%3D%27%234a90e2%27/%3E%3Ctext%20x%3D%2750%27%20y%3D%2768%27%20font-size%3D%2760%27%20text-anchor%3D%27middle%27%20fill%3D%27white%27%20font-family%3D%27Segoe%20UI%2C%20Arial%2C%20sans-serif%27%3E%E8%AE%A2%3C/text%3E%3C/svg%3E" />
    <script src="https://cdn.bootcdn.net/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
    <nav class="top-nav">
        <a href="order-list.html" class="nav-item active">订单清单</a>
        <a href="Instagram-流量全解析.html" class="nav-item">Instagram 流量全解析</a>
    </nav>
    <div class="container">
        <!-- Left Panel: Input & Edit -->
        <div class="left-panel">
            <h1>商品编辑添加</h1>
            
            <div class="form-group">
                <label>预览语言</label>
                <select id="languageSelector">
                    <option value="en">English (英语)</option>
                    <option value="zh-CN">简体中文</option>
                    <option value="zh-TW">繁體中文</option>
                    <option value="ar">العربية (阿拉伯语)</option>
                    <option value="ja">日本語 (日语)</option>
                    <option value="ko">한국어 (韩语)</option>
                    <option value="ru">Русский (俄语)</option>
                    <option value="fr">Français (法语)</option>
                    <option value="de">Deutsch (德语)</option>
                    <option value="es">Español (西班牙语)</option>
                    <option value="it">Italiano (意大利语)</option>
                </select>
            </div>

            <div class="form-group">
                <label>Customer</label>
                <input type="text" id="customerNameInput" placeholder="请输入客户名称">
            </div>

            <div class="form-group">
                <label>订单日期</label>
                <input type="text" id="orderDate" placeholder="YYYY-MM-DD">
            </div>

            <div class="form-group">
                <label>货币符号</label>
                <select id="currencySelector">
                    <option value="$">USD ($)</option>
                    <option value="$">HKD ($)</option>
                    <option value="¥">CNY (¥)</option>
                    <option value="¥">JPY (¥)</option>
                    <option value="₩">KRW (₩)</option>
                    <option value="₽">RUB (₽)</option>
                    <option value="$">AUD ($)</option>
                    <option value="$">TWD ($)</option>
                    <option value="$">CAD ($)</option>
                    <option value="€">EUR (€)</option>
                    <option value="£">GBP (£)</option>
                </select>
            </div>

            <div class="form-group">
                <label>折扣 (%)</label>
                <input type="number" id="discountInput" placeholder="0-100" step="0.01" min="0" max="100">
            </div>

            <div class="form-group">
                <label>商品图片</label>
                <input type="file" id="productImage" accept="image/*">
                <div class="image-preview-box" id="imagePreviewBox">
                    <span>暂无图片</span>
                </div>
            </div>

            <div class="form-group">
                <label>商品标题</label>
                <input type="text" id="productTitle" placeholder="请输入商品名称">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>单价 (<span id="priceCurrencySymbol">$</span>)</label>
                    <input type="number" id="productPrice" placeholder="0.00" step="0.01">
                </div>
                <div class="form-group">
                    <label>数量</label>
                    <input type="number" id="productQty" value="1" min="1">
                </div>
            </div>

            <div class="form-group">
                <label>备注</label>
                <textarea id="productNote" placeholder="填写商品备注信息（可选，回车可换行）" rows="3"></textarea>
            </div>

            <button id="addProductBtn" class="btn primary-btn">添加商品</button>
            <button id="updateProductBtn" class="btn secondary-btn" style="display:none;">保存修改</button>
            <button id="cancelEditBtn" class="btn text-btn" style="display:none;">取消</button>

            <hr>
            
            <div class="list-header" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                <h3>已添加商品列表</h3>
                <button id="clearAllBtn" class="btn text-btn" style="color: var(--danger-color); font-size: 12px; display: none;">清空列表</button>
            </div>
            <div id="productList" class="product-list">
                <!-- Added products will appear here for editing/deleting -->
            </div>
        </div>

        <!-- Right Panel: Preview -->
        <div class="right-panel">
            <div class="preview-header-actions">
                <h2>订单清单</h2>
                <div class="save-actions">
                    <button id="saveBtn" class="btn success-btn">保存为图片</button>
                    <button id="saveWhatsAppBtn" class="btn whatsapp-btn">WhatsApp 专用格式</button>
                </div>
            </div>
            
            <div id="captureArea" class="order-preview">
                <div class="order-header">
                    <h2 id="previewTitle">Order Confirmation</h2>
                    <div class="header-row">
                        <p class="customer"><span id="labelCustomer">Customer</span>: <span id="customerNameDisplay"></span></p>
                        <p class="date"><span id="labelDate">Date</span>: <span id="currentDate"></span></p>
                    </div>
                </div>
                
                <div class="order-items" id="previewItems">
                    <!-- Preview items will be injected here -->
                    <div class="empty-state">No items added</div>
                </div>

                <div class="order-footer">
                    <div class="total-row">
                        <span id="labelTotalItems">Total Items:</span>
                        <span id="totalCount">0</span>
                    </div>
                    <div class="total-row original-price-row" id="originalPriceRow" style="display: none;">
                        <span id="labelOriginalPrice">Original Price:</span>
                        <div class="original-price-group">
                            <span id="originalCurrencyCode">USD</span>
                            <span id="originalCurrencySymbol">$</span>
                            <span id="originalAmount">0.00</span>
                        </div>
                    </div>
                    <div class="total-row discount-row" id="discountRow">
                        <span id="labelDiscount">Discount:</span>
                        <div class="discount-price-group">
                            <span id="discountPercent">-0%</span>
                        </div>
                    </div>
                    <div class="total-row main-total">
                        <span id="labelTotalAmount">Total Amount:</span>
                        <div class="total-price-group">
                            <span id="totalCurrencyCode">USD</span>
                            <div class="final-amount">
                                <span id="totalCurrencySymbol">$</span>
                                <span id="totalAmount">0.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
